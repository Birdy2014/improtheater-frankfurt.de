extends ../layout.pug

block routeContent
    h1 WORKSHOPS
    if loggedIn
        a(id="workshops-add" href="javascript:void(0)" onclick="createWorkshop()") HINZUFÜGEN
        .workshops-navigation
            if page > 0
                a(href="/workshops/" + (page - 1)) Vorwärts
            a(href="/workshops/" + (page + 1)) Zurück

    #workshop-list
        each workshop in workshops
            +workshop-item(workshop)

    template#template-workshop-item
        +workshop-item(0, "", "", false, "", false, false)

mixin workshop-item(workshop)
    .workshop-item(class=workshop.outdated ? "workshops-outdated" : "", id="workshop-item-" + workshop.id)
        a(href="/workshop/" + workshop.id)
            .workshops-image-container
                img(src=workshop.img || "/public/img/workshop-default.png")
                .workshops-draft-text
                    unless workshop.visible
                        | Entwurf
            .workshop-text(style=`background-color: ${workshop.color}; color: ${workshop.textColor}`)
                h2 #{workshop.title}
                h4
                    unless workshop.propertiesHidden
                        | #{workshop.timeText}
